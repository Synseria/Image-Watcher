name: Enforce PR Rules
on:
  pull_request:
    branches: [master]
jobs:
  check-pr-source:
    name: Verify PR source branch
    runs-on: ubuntu-latest
    steps:
      - name: Block non-dev branches to master
        run: |
          if [ "${{ github.head_ref }}" != "dev" ]; then
            echo "âŒ ERROR: Direct PRs to master are not allowed!"
            echo ""
            echo "ğŸ“‹ Correct workflow:"
            echo "   1. Create a PR from '${{ github.head_ref }}' to 'dev'"
            echo "   2. After merge and validation, create a PR from 'dev' to 'master'"
            echo ""
            echo "ğŸ’¡ Only the 'dev' branch can be merged into 'master'."
            exit 1
          fi
          echo "âœ… PR from 'dev' to 'master' - OK"
